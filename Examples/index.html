<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>JQen Page Example</title>
</head>

<body>
    <div id="main">
        <fieldset>
            <legend>Template:</legend>
            <textarea id="template_txt" cols="50" rows="10"></textarea>
        </fieldset>

        <fieldset>
            <legend>JSON:</legend>
            <textarea id="json_txt" cols="50" rows="10"></textarea>
        </fieldset>

        <br>

        <fieldset>
            <legend>Result:</legend>
            <textarea id="rendered_txt" cols="50" rows="10"></textarea>
        </fieldset>

        <br>
        <br>

        <button id="render">Render Template</button>
    </div>

    <script src="JQen.js"></script>
    <script type='text/javascript'>
        "use strict";
        window.onload = function () {
            var rt = document.getElementById("rendered_txt"),
                tt = document.getElementById("template_txt"),
                jt = document.getElementById("json_txt");

            tt.value = `<h2>Students</h2>
<loop value="department_val">
    <h3>Major: department_val[major]</h3>
    <ul>
    <loop set="department_val[students]" value="student_val">
        <li>
            <span>Name: student_val[Name]</span>
            <span>GPA: student_val[GPA]
                <if case="student_val[GPA] < 2.5"> (Inform adviser!)
                <elseif case="student_val[GPA] >= 3.5" /> (President\'s List!)
                <elseif case="student_val[GPA] >= 3.0" /> (Dean\'s List!)
                </if>
            </span>
        </li>
    </loop>
    </ul>
</loop>`;
            jt.value = `[
    {
        "major": "Computer Science",
        "students": [
            { "Name": "Oliver", "GPA": 3.2 },
            { "Name": "Jonah", "GPA": 3.8 },
            { "Name": "Jack", "GPA": 2.8 }
        ]
    },
    {
        "major": "Math",
        "students": [
            { "Name": "Maxim", "GPA": 3.0 },
            { "Name": "Cole", "GPA": 2.5 },
            { "Name": "Claire", "GPA": 2.4 }
        ]
    }
]`;
            document.getElementById("render").addEventListener('click', function () {
                rt.value = Module.JQen_Render(tt.value, jt.value);
            });
        };
    </script>
</body>

</html>
